---
title: 상용 및 오픈소스 CFD 코드를 이용한 EFD-CFD 워크샵 Case 3 해석
date: '2017-01-01'
draft: false
publishDate: '2023-06-05T08:29:47.875335Z'
authors:
- ' 김종록'
publication_types:
- '2'
abstract: EFD-CFD 워크샵 중 Case3인 RAE Wing A 형상에 대해 전산유체역학 해석을 수행하였다. 해석자로 3개의 상용 CFD
  해석 코드(Star-CCM+, Fluent, CFX)와 오픈 소스 CFD 코드(SU2)를 사용하였다. 격자는 상용 격자 생성 코드인 Pointwise를
  이용하여 격자의 수에 따라 4가지를 생성하였다. 마하수 0.4, 0.8에서 는 받음각 2도, 마하수 0.9에서 받음각 1도에서 해석하였다. coarse격자부터
  fine 격자까지는 압력계수 곡선과 수직력 계수는 비슷한 결과를 보였으나 항력 계수에서는 차이가 있었다. Star-CCM+과 Fluent의 해석에서
  차분법의 차수가 높을수록 충격파의 위치를 앞으로 예측하였다. 수렴에 다다르는 계산시간은 Fluent, Star-CCM+, CFX의 순으로 나타났고
  SU2는 이에 비해 수렴하는데 많은 시간이 들었다.
featured: false
publication: '*한국항공우주학회지*'
tags:
- CFD(전산유체역학)
- CFX
- EFD-CFD
- Fluent
- RAE-A
- Star-CCM+
- SU2
---

제가 전공했던 유체역학은 크게 실험과 전산 유체역학으로 나뉩니다. 
전 직장에서 몸담았던 항공우주, 공기역학분야에서도 실험유체역학과 전산유체역학으로 나눌 수 있습니다.
두 분야가 대척점에 있는 것은 아니고 서로 협력하면서 학문을 발전시켜야 되는 것입니다.
그래서 두 분야의 협력을 촉진하게 위해 몇몇분이 주도하여 한국항공우주학회에서는 워크샵을 만들었습니다.
이름은 EFD-CFD 워크샵입니다.

워크샵은 미국항공? AIAA의 워크샵을 많이 참고한 것 같습니다.
공통의 유체역학 문제를 선정하고 실험유체와 전산유체하는 연구원들이 각각 실험/시뮬레이션 하여 서로 답을 맞춰보는 형태였습니다.
사실상 실험한 데이터가 정답이라고 생각하고 전산 해석 결과들이 잘 맞는지 논의하는 식이었습니다.

물론 학회라는 것이 서로의 연구결과를 보면서 갑론을박하는 자리이긴 합니다.
그런데 서로의 연구자들끼리 해석하는 문제가 다르다보니 서로간의 비교를 하기가 어렵습니다.
그래서 워크샵에서는 문제를 통일해 서로의 해석 결과를 보고 어느 해석 코드가 더 맞는지 공통적인 특성이 있는지들을 살펴보기 위한 목적이라고 보면 됩니다.

저도 이 워크샵에 참여해야 되겠다는 생각을 했습니다.
일단 이 워크샵은 교수님들과 항공우주연구원의 연구자분들이 주도하에 개최가 된것입니다.
그렇다면 워크샵의 참여자를 생각해보면 일단 항공우주연구원, 국방과학연구원 같은 정출연은 참석할겁니다.
이런 연구소들은 연구인력들의 수준이 아주 높고 인하우스 코드들도 보유하고 있습니다.
또 당연히 대학원을 생각할 수 있습니다.

대학은 랩에 따라 논문이나 발표의 질이 다르긴 합니다. 또 거의 인하우스 코드로 참여하리라 예상이 되었습니다.
대학원의 인하우스 코드는 수년에서 수십년동안 연마된것이기 때문에 
인하우드 코드의 장점 위주로 설명을 하지 않을까 싶었습니다.
또 한편으로는 상용 CFD SW의 기술지원회사에서 참석하리라 생각했습니다.
여기는 자신들의 상용코드로 해석이 정확도가 잘 맞다고 주장할 것입니다.

이런 참석자들이 예상이 되었고 저는 어떤 선택을 했어야 할까요?
일단 당시의 회사에서는 인하우스 코드를 보유하고 있지 못했습니다. 
대신 다른 기관에 비해 다른 점은 다양한 해석 SW에 접근이 가능한 것이었습니다.
회사에서는 한 분야라 하더라도 하나의 상용SW만 구매하지 않고 여러 SW를 구매합니다. 
그래서 저는 가급적 많은 코드를 사용하여 비교하자를 목표로 삼았습니다.
다른 기관들은 논문당 하나의 코드로 해석할게 뻔했거든요.

일단 Ansys사의 Fluent는 제가 주력으로 사용하던 SW였고 가장 자신있게 할 수 있었습니다.
같은 회사의 CFX란 SW는 주로 터보기계에 사용하는 SW인데 저는 대학원에서 접했었고요.
같은 라이센스로 두 SW가 가능하지만 Ansys사가 Fluent 위주로 개발을 해서 회사에서는 거의 사용한 적은 없었습니다.
이번에 옛 기억을 되살려서 CFX도 해보기로 하였습니다.

다음은 지멘스의 Star-CCM+입니다. Star-CCM+은 Fluent에 이어 CFD 분야에서 가장 많이 사용하는 SW중 하나입니다.
Star-CCM+은 Fluent에 비해 차별화되는 장점이 있었고 그런 장점은 좋아했기에 저는 Star-CCM+도 굉장히 많이 해석을 했었습니다.

그리고 오픈소스에서 하나쯤은 넣어야겠다고 생각했습니다. 
CFD분야의 오픈소스는 OpenFoam이 가장 유명합니다.
하지만 OpenFoam을 논문에 포함하진 못했는데요.
이 당시에는 OpenFoam이 익숙하지 않았었고 제가 워크샵에서 선택했던 케이스가 해석이 잘 안되었습니다.
구체적으로 이야기하면 마하수가 높아 압축성 솔버가 필요한데 OpenFoam의 압축성 솔버는
수렴이 잘 되지 않았던 것으로 기억을 합니다.

그래서 SU2란 또 다른 오픈소스코드를 하기로 했습니다. 
SU2는 OpenFoam과 다르게 처음부터 압축성 솔버로 되어있어 해석하기 적합했습니다.
오히려 마하수가 낮은 문제가 잘 해석이 안되었습니다.
SU2는 오픈소스로 발표할때부터 관심있게 봐왔던 코드이고 사용에는 제한이 없는 라이센스인 이점을 이용하여
Fluent나 Star-CCM+의 해석들을 보조하는 역할로 사용했었습니다.
워크샵을 위해 제대로 된 해석을 처음 해보는 것이긴 하였습니다.

논문에 들어간 코드는 Fluent, CFX, Star-CCM+, SU2입니다.
하지만 제가 검토했던 코드는 더 있었습니다.

먼저 구조해석분야에서 유명한 Altair Hyperworks 계열의 Acusolve입니다.
Acusolve와 다른 코드와의 가장 큰 차이점은 FEM이란 것입니다. 
FEM은 보통 구조해석에 많이 쓰이고 FVM은 유체해석에 많이 쓰이는데 
Hyperworks는 구조해석 SW가 더 먼저 하다보니 CFD코드도 FEM으로 한게 아닌가 싶습니다.
Acusolve도 본래 Hyperworks를 위해 다른 연구원이 구매한 SW입니다만 
통합 라이센스제도라 Acusolve도 사용이 가능하였고 호기심이 많았던 제가 사용했었습니다.
단 결국 못들어갔던건 마하수 제한때문입니다.
Acusolve 솔버는 그 때 당시 약 마하수 0.3정도에서만 해석이 가능했던 솔버였습니다.
현재는 이 제한이 일부 해소 된것으로 알고 있습니다.

다음은 Comsol입니다.
Comsol은 멀티피직스를 특성화시킨 SW입니다.
다른 SW들에 비해 사용량이 많지는 않으나 몇몇 분야에서는 많이 사용하는것 같습니다.
이 역시 라이센스를 하나 보유하고 있었고 역시 튜토리얼까지는 했었습니다.
그러나 사용법이 익숙하지 않아 포기했었던 SW입니다.

정리하면 저는 7개의 코드를 해석하려고 했습니다. 
CFD분야가 아니라면 감이 안 오시겠지만 CFD를 해보셨다면 7개의 해석 SW를 한명의 연구원이 한다는것이
말도 안된다고 바로 튀어나오는 말입니다.

보통의 CFD하시는 분들은 대학원때는 랩의 인하우스 코드를 쓰다가 회사에 와서는 상용 코드를 많이 쓰게 됩니다.
대부분 상용 SW는 하나를 주력으로 정하고 가끔 열정적이신분은 부로 돌릴만한 코드를 더 공부하긴 합니다.
저처럼 4개를 논문에 쓰고 처음 목적은 7개였다는건 무모한 도전에 가깝습니다.
왜냐하면 CFD사람들이 게을러서 그런건 아니고 1-2개 고급 실력까지 익히는것도 매우 힘들기 때문입니다.
이렇게 많은 코드를 하려고 했다는 것은 오히려 하나도 제대로 못다루면서 이것저것 해보는 사기꾼 취급을 받을 수 있기 때문에 조심해야 합니다. 

